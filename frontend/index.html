<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Car Price Predictor</title>

<style>
/* Full Tech UI Styling */
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #0a0a0a, #1a1a2e, #0f3460);
    background-size: 400% 400%;
    animation: move 10s infinite alternate;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    color: white;
}

@keyframes move {
    0%{background-position: 0%;}
    100%{background-position: 100%;}
}

.container {
    width: 350px;
    background: rgba(0,0,0,0.75);
    padding: 25px;
    border-radius: 15px;
    box-shadow: 0 0 20px red;
}

h2 {
    text-align: center;
    text-shadow: 0 0 10px red;
}

label {font-weight:bold;}

input, select {
    width:100%;
    padding:10px;
    margin-top:5px;
    margin-bottom:15px;
    border:1px solid red;
    background: rgba(255,255,255,0.1);
    color:white;
    border-radius:8px;
}

button {
    width:100%;
    padding:12px;
    font-size:18px;
    background:red;
    border:none;
    color:white;
    border-radius:8px;
    cursor:pointer;
    margin-top:10px;
    font-weight:bold;
}

button:hover {background:#ff3d3d;}

#result{
    margin-top:15px;
    font-size:22px;
    background:rgba(255,255,255,0.1);
    padding:10px;
    border-radius:8px;
    text-align:center;
    color:#00ff7f;
}

#error{
    margin-top:10px;
    text-align:center;
    color:#ffb3b3;
    font-size:16px;
}
</style>

</head>
<body>

<div class="container">
    <h2>üöó Car Price Prediction</h2>

    <label>Company</label>
    <select id="company">
        <option value="">Select Company</option>
        <option>Maruti</option><option>Hyundai</option><option>Toyota</option><option>Ford</option>
        <option>Mahindra</option><option>Tata</option><option>Volkswagen</option><option>Renault</option>
        <option>Chevrolet</option><option>Honda</option>
    </select>

    <label>Year</label>
    <input type="number" id="year" placeholder="e.g. 2018">

    <label>KM Driven</label>
    <input type="number" id="km_driven" placeholder="e.g. 45000">

    <label>Fuel Type</label>
    <select id="fuel">
        <option value="">Select Fuel</option>
        <option>Petrol</option><option>Diesel</option><option>CNG</option><option>LPG</option>
    </select>

    <label>Transmission</label>
    <select id="transmission">
        <option value="">Select Type</option>
        <option>Manual</option><option>Automatic</option>
    </select>

    <label>Owner</label>
    <select id="owner">
        <option value="">Select Owner</option>
        <option>First Owner</option><option>Second Owner</option><option>Third Owner</option>
        <option>Fourth & Above Owner</option><option>Test Drive Car</option>
    </select>

    <label>Seller Type</label>
    <select id="seller_type">
        <option value="">Select Seller</option>
        <option>Individual</option><option>Dealer</option>
    </select>

    <label>Seats</label>
    <input type="number" id="seats" placeholder="e.g. 5">

    <button onclick="predictPrice()">Predict Price</button>

    <p id="result"></p>
    <p id="error"></p>
</div>

<script>
function predictPrice(){
    const data = {
        Company: company.value,
        year: +year.value,
        km_driven: +km_driven.value,
        fuel: fuel.value,
        transmission: transmission.value,
        owner: owner.value,
        seller_type: seller_type.value,
        seats: +seats.value
    };

    // validation
    for(let key in data){
        if(!data[key]){
            error.innerHTML = "‚ö† Please fill all fields!";
            result.innerHTML = "";
            return;
        }
    }
    error.innerHTML="";

    fetch("https://heroic-optimism-production.up.railway.app/predict", { 
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body:JSON.stringify(data)
    })
    .then(r=>r.json())
    .then(res=>{
        if(res.predicted_price){
            result.innerHTML = "Estimated Price: ‚Çπ " + res.predicted_price;
            error.innerHTML = "";
        } else {
            error.innerHTML = "‚ö† " + res.error;
            result.innerHTML = "";
        }
    })
    .catch(()=>{
        error.innerHTML="‚ùå Server not responding!";
    });
}
</script>

</body>
</html>
